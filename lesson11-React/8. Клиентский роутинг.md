# Клиентский роутинг
**Роутинг** – механизм организации переходов между страницами.

До этого момента у вас было несколько разных HTML-файлов, связанных между собой ссылками. При переходе по ссылке с сервера загружается новый документ, а состояние старого полностью теряется. Такой подход называется **серверным роутингом**.

**Клиентский роутинг** – способ организации переходов таким образом, что при смене адреса меняется содержимое страницы с помощью JS, без загрузки нового HTML-документа. Таким образом, вы можете изменять только ту часть страницы, которую нужно, не теряя состояние всех остальных частей. Например, вы можете открыть видео на Youtube, не теряя текст в строке поиска. Приложения с клиентским роутингом называются одностраничными приложениями (single-page application, SPA).

Обычно, клиентский роутинг работает по следующей схеме:
1. Сервер на запрос по любому адресу отдаёт одну и ту же страницу.
2. Два варианта, в зависимости от того насколько вы контролируете сервер:
- Сервер может построить страницу по указанному адресу и отдать готовую вёрстку. Тогда на клиенте останется только добавить обработчики событий в нужные места;
- Если сервер умеет отдавать только статические файлы, то вёрстка будет полностью строиться на клиенте. Это означает, что если у пользователя отключен JavaScript, то он не сможет пользоваться вашим сайтом.
3. Все клики по ссылкам перехватываются. Также перехватывается событие [`popstate`](https://developer.mozilla.org/ru/docs/Web/API/Window/popstate_event), чтобы поймать нажатия на кнопки вперёд и назад.
4. Действие по умолчанию отменяется, и осуществляется смена адреса через `History API` [History API](https://developer.mozilla.org/ru/docs/Web/API/History).
5. По текущему адресу вычисляется какие компоненты должны отображаться на текущей странице, недостающие части загружаются, затем с помощью JS изменяется содержимое.

> Для ваших дипломных проектов настоятельно рекомендуется использовать клиентский роутинг. Основная причина - шаблон не поддерживает несколько разных HTML-файлов без доработок. :) И так как большинство современных приложений пользуются именно клиентским роутингом, то это будет хорошим шансом с ним поразбираться.

# React Router
Для клиентского роутинга существует много фреймворков, мы рекомендуем [React Router](https://reactrouter.com/). Подробно про работу с ним можно почитать в [документации](https://reactrouter.com/docs/en/v6/api), там же есть примеры решения разных задач. Здесь мы разберём только установку и простой пример.

Для установки нужно в вашем проекте выполнить команду:
```
npm install react-router-dom
```

Затем в корне вашего приложения (`index.tsx`) нужно добавить компонент `BrowserRouter`:

```jsx
// остальные импорты
import { BrowserRouter } from "react-router-dom";

ReactDOM.render(
  <BrowserRouter>
    <App />
  </BrowserRouter>,
  document.getElementById("root")
);
```

Теперь можно использовать `react-router` в вашем приложении. Скорее всего, вам будет достаточно трех компонентов:
1. [`Route`](https://reactrouter.com/docs/en/v6/api#routes-and-route) – принимает путь и компонент, который должен отображаться по этому пути.
2. [`Routes`](https://reactrouter.com/docs/en/v6/api#routes-and-route) – принимает набор `Route` компонентов и рисует один из них, можете воспринимать его как `switch`.
3. [`Link`](https://reactrouter.com/docs/en/v6/api#link) – компонент-ссылка, который должен использоваться вместо тега `<a>`.

Пример использования всех этих компонентов:

Тут client-side-routing.tsx

